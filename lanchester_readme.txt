This program assumes rectangular formations, defined to fill the specified width. each time units in a front rank perish, they are immediately filled for the next iteration.

units are assumed to fight at full capacity, until completely destroyed.
units will only be destroyed if the enemy forces can sum enough damage in a battle.